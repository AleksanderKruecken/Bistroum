function polozajKroglice(n){var t=document.getElementById(n).getAttribute("cy"),i=n%10;return i==5?t==yUp?0:1:t==yStart+(i-1)*yDiff?0:1}function vrednostKroglice(n){var t=n%10,i=Math.floor(n/10);return t<5&&(t=1),vrednost=Math.pow(10,i-1)*t}function vrednostSorobana(){for(var i,r=0,t=1;t<=n;t++)for(r+=vrednostKroglice(t*10+5)*polozajKroglice(t*10+5),i=1;i<=4;i++)r+=vrednostKroglice(t*10+i)*polozajKroglice(t*10+i);return r}function pritisk(n){var e=window.location.href,o=new URL(e),u=window.location.pathname,r=o.searchParams.get("i"),i,f,t;if(izbraniKrogec=n.target.id,izbraniKrogecString="'"+izbraniKrogec+"'",izbraniGumb=n.button,i=izbraniKrogec%10,f=document.getElementById(izbraniKrogec).getAttribute("cy"),i==5)f==yUp?document.getElementById(izbraniKrogec).setAttribute("cy",yUp+yDiff):document.getElementById(izbraniKrogec).setAttribute("cy",yUp);else if(f==yStart+(i-1)*yDiff)for(t=1;t<=i;t++)document.getElementById(izbraniKrogec-(i-t)).setAttribute("cy",yStart+(t-1)*yDiff-yDiff);else for(t=i;t<=4;t++)document.getElementById(izbraniKrogec-(i-t)).setAttribute("cy",yStart+(t-1)*yDiff);document.getElementById("spanVrednostSorobana").innerHTML=vrednostSorobana();u=="/Vaje"&&r==1&&(stevilo1=parseInt($("#stevilo1").text()),vrednostNaSorobanu=vrednostSorobana(),stevilo1==vrednostNaSorobanu&&($("#stevilo1").css("color","mediumseagreen"),$("#pravilnoNepravilno").empty(),$("#pravilnoNepravilno").append("<span>Pravilno<\/span>"),$("#pravilnoNepravilno").css("color","mediumseagreen")));u=="/Vaje"&&r>=2&&r<=5&&(stevilo1=parseInt($("#stevilo1").text()),stevilo2=parseInt($("#stevilo2").text()),stevilo3=parseInt($("#stevilo3").text()),vrednostNaSorobanu=vrednostSorobana(),stevilo1==vrednostNaSorobanu&&($("#stevilo1").css("color","mediumseagreen"),vmesniRezultat1Pravilno=!0),vmesniRezultat1Pravilno==!0&&stevilo1+stevilo2==vrednostNaSorobanu&&($("#stevilo2").css("color","mediumseagreen"),vmesniRezultat2Pravilno=!0),vmesniRezultat2Pravilno==!0&&stevilo1+stevilo2+stevilo3==vrednostNaSorobanu&&($("#stevilo3").css("color","mediumseagreen"),$("#pravilnoNepravilno").empty(),$("#pravilnoNepravilno").append("<span>Pravilno<\/span>"),$("#pravilnoNepravilno").css("color","mediumseagreen")));u=="/Vaje"&&r==6&&parseInt($("#stevilo2").text())<=9&&(stevilo1=parseInt($("#stevilo1").text()),stevilo1Enice=parseInt($("#stevilo1").text().charAt(1)),stevilo1Desetice=parseInt($("#stevilo1").text().charAt(0)),stevilo2=parseInt($("#stevilo2").text()),vrednostNaSorobanu=vrednostSorobana(),stevilo1Enice*stevilo2==vrednostNaSorobanu&&(vmesniRezultat1Pravilno=!0,$("#pravilnoNepravilno").empty(),$("#pravilnoNepravilno").append("<div>Pravilen vmesni rezultat:<\/div><div>"+stevilo1Enice+"*"+stevilo2+"="+stevilo1Enice*stevilo2+"<\/div>"),$("#pravilnoNepravilno").css("color","mediumseagreen")),stevilo1Desetice*stevilo2==vrednostNaSorobanu/10&&(vmesniRezultat1Pravilno=!0,$("#pravilnoNepravilno").empty(),$("#pravilnoNepravilno").append("<div>Pravilen vmesni rezultat:<\/div><div>"+stevilo1Desetice+"*"+stevilo2+"="+stevilo1Desetice*stevilo2+"<\/div>"),$("#pravilnoNepravilno").css("color","mediumseagreen")),vmesniRezultat1Pravilno==!0&&stevilo1*stevilo2==vrednostNaSorobanu&&($("#pravilnoNepravilno").empty(),$("#pravilnoNepravilno").append("<span>Pravilno<\/span>"),$("#pravilnoNepravilno").css("color","mediumseagreen")));u=="/Vaje"&&r==6&&parseInt($("#stevilo2").text())>9&&(stevilo1=parseInt($("#stevilo1").text()),stevilo1Enice=parseInt($("#stevilo1").text().charAt(1)),stevilo1Desetice=parseInt($("#stevilo1").text().charAt(0)),stevilo2=parseInt($("#stevilo2").text()),vrednostNaSorobanu=vrednostSorobana(),stevilo1*stevilo2==vrednostNaSorobanu&&($("#pravilnoNepravilno").empty(),$("#pravilnoNepravilno").append("<span>Pravilno<\/span>"),$("#pravilnoNepravilno").css("color","mediumseagreen")));u=="/Vaje"&&r==7&&(stevilo1=parseInt($("#stevilo1").text()),stevilo1Enice=parseInt($("#stevilo1").text().charAt(1)),stevilo1Desetice=parseInt($("#stevilo1").text().charAt(0)),stevilo2=parseInt($("#stevilo2").text()),vrednostNaSorobanu=vrednostSorobana(),stevilo1/stevilo2==vrednostNaSorobanu&&($("#pravilnoNepravilno").empty(),$("#pravilnoNepravilno").append("<span>Pravilno<\/span>"),$("#pravilnoNepravilno").css("color","mediumseagreen")))}function reset(t){for(var r,i=1;i<=n;i++)for(document.getElementById(10*i+5).setAttribute("cy",yUp),r=1;r<=4;r++)document.getElementById(i*10+r).setAttribute("cy",yStart+(r-1)*yDiff);t=="vaje"&&(document.getElementById("spanVrednostSorobana").innerHTML=vrednostSorobana())}function generiranjeSorobana(){var t="",i,r;for(t=t+"<svg id='sorobanSVG' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 600 500' >",t=t+"<line class='okvir' x1='0' y1='40' x2='600' y2='40' />",t=t+"<line class='okvir' x1='0' y1='494' x2='600' y2='494' />",t=t+"<line class='okvir' x1='6' y1='40' x2='6' y2='494' />",t=t+"<line class='okvir' x1='594' y1='40' x2='594' y2='494' />",t=t+"<rect id='resetGumb' x='500' y='2' rx='5' ry='5' width='100' height='43' />",t=t+"<text id='resetTekst' x='507' y='28'>Ponastavi<\/text>",t=t+"<line id='sredinskaCrta' x1='0' y1='174' x2='600' y2='174' />",i=1;i<=n;i++)for(t=t+"<line class='okvir' x1='"+(xStart+(n-i)*xDiff)+"' y1='44' x2='"+(xStart+(n-i)*xDiff)+"' y2='490' />",t=t+"<ellipse id='"+(i*10+5)+"' cx='"+(xStart+(n-i)*xDiff)+"' cy ='"+yUp+"' rx='"+aElipse+"' ry ='"+bElipse+"' />",r=1;r<=4;r++)t=t+"<ellipse id='"+(i*10+r)+"' cx='"+(xStart+(n-i)*xDiff)+"' cy ='"+(yStart+(r-1)*yDiff)+"' rx='"+aElipse+"' ry ='"+bElipse+"' />";t=t+"<circle cx='300' cy='174' r='2' />";t=t+"<\/svg>";$("#DivSvg").html(t)}function poslusajDogodke(){for(var t=document.querySelectorAll("ellipse"),n=0;n<t.length;n++)t[n].addEventListener("mousedown",pritisk);document.getElementById("resetGumb").addEventListener("mousedown",function(){reset("vaje")});document.getElementById("resetTekst").addEventListener("mousedown",function(){reset("vaje")})}function poslusajDogodkeUcenje(){document.getElementById("resetGumb").addEventListener("mousedown",function(){reset("ucenje")});document.getElementById("resetTekst").addEventListener("mousedown",function(){reset("ucenje")})}leviGumbKoda=0;desniGumbKoda=2;xDiff=110;yDiff=62;yUp=76;yStart=272;xStart=80;aElipse=49;bElipse=31;n=5;